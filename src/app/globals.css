@import "tailwindcss";

:root {
    --clean: #fafafa; /* Clean sections / page bg */
    --cream: #fff8dd; /* Soft contrast blocks */
    --orange: #f48948; /* Primary accent */
    --clay: #e6b17e; /* Secondary accent / hover */
    --green: #7bae7f; /* Fresh accent / dividers */
    --charcoal: #3c3c3c; /* Primary text */

    /* Dynamic hover/active shades from orange */
    --orange-hover: color-mix(in oklab, var(--orange) 94%, black 6%);
    --orange-active: color-mix(in oklab, var(--orange) 90%, black 10%);
}

@theme inline {
    --color-clean: var(--clean);
    --color-cream: var(--cream);
    --color-orange: var(--orange);
    --color-clay: var(--clay);
    --color-green: var(--green);
    --color-charcoal: var(--charcoal);

    --color-orange-hover: var(--orange-hover);
    --color-orange-active: var(--orange-active);

    --font-heading: var(--font-be-vietnam);
    --font-body: var(--font-source-sans);
}

/* Page base now on clean */
html {
    background-color: var(--clean);
    color: var(--charcoal);
    font-family: var(--font-body, sans-serif);
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    margin: 0;
    padding: 0;
}

main {
    max-width: 1440px;
    margin: 0 auto;
    padding: 20px;
}

/* Headings: keep charcoal, let color come from accents in components */
h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: var(--font-heading, sans-serif);
    font-weight: 700;
    line-height: 1.25;
}

h1:not(.pillar-heading):not(.announcement-title):not(.menu-heading),
h2:not(.pillar-heading):not(.announcement-title):not(.menu-heading),
h3:not(.pillar-heading):not(.announcement-title):not(.menu-heading),
h4:not(.pillar-heading):not(.announcement-title):not(.menu-heading),
h5:not(.pillar-heading):not(.announcement-title):not(.menu-heading),
h6:not(.pillar-heading):not(.announcement-title):not(.menu-heading) {
    color: var(--charcoal);
}

/* Buttons (global default) */
button {
    cursor: pointer;
    font-family: var(--font-heading, sans-serif);
    font-weight: 600;
    padding: 0.6rem 1.2rem;
    color: var(--clean);
    background-color: var(--orange);
    border-radius: 8px;
    transition: background-color 0.3s ease, box-shadow 0.3s ease,
        transform 0.06s ease;
}
button:hover {
    background-color: var(--orange-hover);
    box-shadow: 0 2px 10px color-mix(in oklab, var(--orange) 20%, transparent);
}
button:active {
    background-color: var(--orange-active);
    transform: translateY(1px);
}
button:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--orange) 35%, transparent);
}

/* Outline style button */
.button-outline {
    border: 1px solid color-mix(in oklab, var(--charcoal) 15%, transparent);
    background: var(--clean);
    color: var(--charcoal);
    transition: background-color 0.3s, color 0.3s, border-color 0.3s;
}
.button-outline:hover {
    background: #e5e7eb; /* Tailwind's gray-200 */
}
.button-outline:active {
    background: #d1d5db; /* Tailwind's gray-300 */
}
.button-outline:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--charcoal) 20%, transparent);
}

/* Links */
a:not(nav a):not(footer a):not(.section-cream a):not(#menu a):not(#hero a):not(
        #story-link a
    ) {
    color: var(--orange);
    text-decoration: none;
    transition: color 0.3s ease, text-decoration-color 0.3s ease;
}
a:hover:not(nav a):not(footer a):not(.section-cream a):not(#menu a):not(
        #hero a
    ):not(#story-link a) {
    color: var(--clay);
    text-decoration: underline;
}

/* Divider: subtle green fade instead of black */
hr {
    border: none;
    height: 1px;
    background: linear-gradient(
        to right,
        color-mix(in oklab, var(--green) 0%, transparent),
        color-mix(in oklab, var(--green) 60%, transparent),
        color-mix(in oklab, var(--green) 0%, transparent)
    );
    opacity: 0.9;
    margin: 2rem 0;
}

.section-cream {
    background-color: var(--cream);
}

.card {
    background-color: var(--cream);
    border: 1px solid color-mix(in oklab, var(--charcoal) 10%, transparent);
    border-radius: 10px;
    box-shadow: 0 1px 0 color-mix(in oklab, var(--charcoal) 6%, transparent);
    position: relative;
    overflow: hidden; /* hide inner overflow behind the clipped border */
}

.card::before {
    content: "";
    position: absolute;
    inset: 6px;
    border: 2px solid var(--orange);
    /* Clip out the top-left and bottom-right corners */
    clip-path: polygon(
        20px 0,
        100% 0,
        100% calc(100% - 20px),
        calc(100% - 20px) 100%,
        0 100%,
        0 20px
    );
    pointer-events: none;
    border-radius: 0; /* ensure clean clipped corners */
}

.frame-clipped {
    position: relative;
}

.frame-clipped::before {
    content: "";
    position: absolute;
    inset: 20px; /* same as inset-5 */
    border: 2px solid var(--orange);
    clip-path: polygon(
        30px 0,
        100% 0,
        100% calc(100% - 30px),
        calc(100% - 30px) 100%,
        0 100%,
        0 30px
    );
    border-radius: 0;
    pointer-events: none;
}
